Useful commands from discovery book.

#Open itm logger. Same directory as openocd
itmdump -F -f itm.txt
openocd -f interface/stlink-v2-1.cfg -f target/stm32f3x.cfg


#See assembly code for the step or whatever
disassemble /m

#Step to go to next step but not execute it
step

// Use these to know the values of variables or use info locals better
(gdb) print x
$1 = 42
(gdb) p &x
$2 = (*mut i32) 0x20009fe0
(gdb) p _y
$3 = 536870912
(gdb) p &_y
$4 = (*mut i32) 0x20009fe4

// Make gdb pretty 
(gdb) layout src
(gdb) layout asm
(gdb) layout split

// To leave the pretty mode
(gdb) tui disable 

// In order
$ cargo run
(gdb) target remote :3333
(gdb) load
(gdb) set print asm-demangle on
(gdb) set style sources off
(gdb) break main
(gdb) continue






//Make sure to run the realease version sometimes because some components down work in debug
cargo run --release


// Size of binary dev
cargo size --target thumbv7em-none-eabihf --bin led-roulette -- -A 	

// Size of binary release
cargo size --target thumbv7em-none-eabihf --bin led-roulette --release -- -A


